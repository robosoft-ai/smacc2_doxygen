\hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source}{}\doxysection{cp\+\_\+forward\+\_\+obstacle\+\_\+detector.\+hpp}
\label{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source}\index{smacc2\_sm\_reference\_library/sm\_dance\_bot\_warehouse\_2/include/sm\_dance\_bot\_warehouse\_2/clients/cl\_lidar/components/cp\_forward\_obstacle\_detector.hpp@{smacc2\_sm\_reference\_library/sm\_dance\_bot\_warehouse\_2/include/sm\_dance\_bot\_warehouse\_2/clients/cl\_lidar/components/cp\_forward\_obstacle\_detector.hpp}}
\mbox{\hyperlink{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00001}00001 \textcolor{comment}{// Copyright 2021 RobosoftAI Inc.}}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00002}00002 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00003}00003 \textcolor{comment}{// Licensed under the Apache License, Version 2.0 (the "{}License"{});}}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00004}00004 \textcolor{comment}{// you may not use this file except in compliance with the License.}}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00005}00005 \textcolor{comment}{// You may obtain a copy of the License at}}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00006}00006 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00007}00007 \textcolor{comment}{//     http://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00008}00008 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00009}00009 \textcolor{comment}{// Unless required by applicable law or agreed to in writing, software}}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00010}00010 \textcolor{comment}{// distributed under the License is distributed on an "{}AS IS"{} BASIS,}}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00011}00011 \textcolor{comment}{// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.}}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00012}00012 \textcolor{comment}{// See the License for the specific language governing permissions and}}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00013}00013 \textcolor{comment}{// limitations under the License.}}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00014}00014 }
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00015}00015 \textcolor{comment}{/*****************************************************************************************************************}}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00016}00016 \textcolor{comment}{ *}}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00017}00017 \textcolor{comment}{ *   Authors: Pablo Inigo Blasco, Brett Aldrich}}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00018}00018 \textcolor{comment}{ *}}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00019}00019 \textcolor{comment}{ ******************************************************************************************************************/}}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00020}00020 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00021}00021 }
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00022}00022 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{smacc_8hpp}{smacc2/smacc.hpp}}>}}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00023}00023 }
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00024}00024 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespacesm__dance__bot__warehouse__2}{sm\_dance\_bot\_warehouse\_2}}}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00025}00025 \{}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00026}00026 \textcolor{keyword}{namespace }cl\_lidar}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00027}00027 \{}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00028}00028 \textcolor{keyword}{using namespace }std::chrono\_literals;}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00029}00029 }
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00030}\mbox{\hyperlink{classsm__dance__bot__warehouse__2_1_1cl__lidar_1_1CpForwardObstacleDetector}{00030}} \textcolor{keyword}{class }\mbox{\hyperlink{classsm__dance__bot__warehouse__2_1_1cl__lidar_1_1CpForwardObstacleDetector}{CpForwardObstacleDetector}} : \textcolor{keyword}{public} \mbox{\hyperlink{classsmacc2_1_1ISmaccComponent}{smacc2::ISmaccComponent}}}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00031}00031 \{}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00032}00032 \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00033}\mbox{\hyperlink{classsm__dance__bot__warehouse__2_1_1cl__lidar_1_1CpForwardObstacleDetector_a1f9c76c92017c8f71bc348ae22d3c871}{00033}}   sensor\_msgs::msg::LaserScan \mbox{\hyperlink{classsm__dance__bot__warehouse__2_1_1cl__lidar_1_1CpForwardObstacleDetector_a1f9c76c92017c8f71bc348ae22d3c871}{lastScanMessage\_}};}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00034}00034 }
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00035}\mbox{\hyperlink{classsm__dance__bot__warehouse__2_1_1cl__lidar_1_1CpForwardObstacleDetector_ac3a0e0d33a91196a54a1b18195026ca6}{00035}}   \textcolor{keyword}{const} \textcolor{keywordtype}{float} \mbox{\hyperlink{classsm__dance__bot__warehouse__2_1_1cl__lidar_1_1CpForwardObstacleDetector_ac3a0e0d33a91196a54a1b18195026ca6}{SECURITY\_DISTANCE}} = 0.4;  \textcolor{comment}{// meters}}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00036}00036 }
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00037}\mbox{\hyperlink{classsm__dance__bot__warehouse__2_1_1cl__lidar_1_1CpForwardObstacleDetector_a8b60548356722a3e01a05818e29c249e}{00037}}   \textcolor{keywordtype}{void} \mbox{\hyperlink{classsm__dance__bot__warehouse__2_1_1cl__lidar_1_1CpForwardObstacleDetector_a8b60548356722a3e01a05818e29c249e}{onInitialize}}()\textcolor{keyword}{ override}}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00038}00038 \textcolor{keyword}{  }\{}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00039}00039     \textcolor{keyword}{auto} client\_ =}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00040}00040       \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{classsmacc2_1_1client__bases_1_1SmaccSubscriberClient}{smacc2::client\_bases::SmaccSubscriberClient<sensor\_msgs::msg::LaserScan>}} *\textcolor{keyword}{>}(}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00041}00041         \mbox{\hyperlink{classsmacc2_1_1ISmaccComponent_a018a8e735cb3db4b50aeb20b685b58ce}{owner\_}});}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00042}00042     client\_-\/>\mbox{\hyperlink{classsmacc2_1_1client__bases_1_1SmaccSubscriberClient_a1a91b6043e8a00862fd505ee7d8d86f6}{onMessageReceived}}(\&\mbox{\hyperlink{classsm__dance__bot__warehouse__2_1_1cl__lidar_1_1CpForwardObstacleDetector_a8fcaa384f30d3a45c91b72ba776581f6}{CpForwardObstacleDetector::MessageCallbackStoreDistanceToWall}}, \textcolor{keyword}{this});}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00043}00043   \}}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00044}00044 }
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00045}\mbox{\hyperlink{classsm__dance__bot__warehouse__2_1_1cl__lidar_1_1CpForwardObstacleDetector_ae6842440f7e8a00447578a0be60bbb73}{00045}}   \textcolor{keywordtype}{int} \mbox{\hyperlink{classsm__dance__bot__warehouse__2_1_1cl__lidar_1_1CpForwardObstacleDetector_ae6842440f7e8a00447578a0be60bbb73}{modulo\_Euclidean}}(\textcolor{keywordtype}{int} a, \textcolor{keywordtype}{int} b)}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00046}00046   \{}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00047}00047     \textcolor{keywordtype}{int} m = a \% b;}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00048}00048     \textcolor{keywordflow}{if} (m < 0)}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00049}00049     \{}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00050}00050       \textcolor{comment}{// m += (b < 0) ? -\/b : b; // avoid this form: -\/b is UB when b == INT\_MIN}}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00051}00051       m = (b < 0) ? m -\/ b : m + b;}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00052}00052     \}}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00053}00053     \textcolor{keywordflow}{return} m;}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00054}00054   \}}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00055}00055 }
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00056}\mbox{\hyperlink{classsm__dance__bot__warehouse__2_1_1cl__lidar_1_1CpForwardObstacleDetector_a2b042dff2f62dc56de441a720e83ff83}{00056}}   \textcolor{keywordtype}{float} \mbox{\hyperlink{classsm__dance__bot__warehouse__2_1_1cl__lidar_1_1CpForwardObstacleDetector_a2b042dff2f62dc56de441a720e83ff83}{getForwardDistance}}(\textcolor{keywordtype}{int} raysWidthCount = 0)}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00057}00057   \{}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00058}00058     \textcolor{comment}{//auto fwdist = scanmsg.ranges[scanmsg.ranges.size() / 2] /*meter*/;}}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00059}00059     \textcolor{keyword}{auto} fwdist = \mbox{\hyperlink{classsm__dance__bot__warehouse__2_1_1cl__lidar_1_1CpForwardObstacleDetector_a1f9c76c92017c8f71bc348ae22d3c871}{lastScanMessage\_}}.ranges[0] \textcolor{comment}{/*meter*/};}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00060}00060 }
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00061}00061 \textcolor{comment}{//     RCLCPP\_INFO\_STREAM(getLogger(), "{}["{} << getName() << "{}] ranges[0]"{} << ss.str());}}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00062}00062 }
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00063}00063     std::stringstream ss;}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00064}00064     \textcolor{comment}{//check rays around main ray}}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00065}00065     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < raysWidthCount; i++)}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00066}00066     \{}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00067}00067       \textcolor{comment}{// int baseindex = 0;}}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00068}00068       \textcolor{keywordtype}{int} scanindex =  (-\/ raysWidthCount / 2 + i) \% raysWidthCount;}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00069}00069 }
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00070}00070       \textcolor{keywordflow}{if}(scanindex < 0)}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00071}00071       \{}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00072}00072         scanindex = \mbox{\hyperlink{classsm__dance__bot__warehouse__2_1_1cl__lidar_1_1CpForwardObstacleDetector_a1f9c76c92017c8f71bc348ae22d3c871}{lastScanMessage\_}}.ranges.size() + scanindex;}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00073}00073       \}}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00074}00074 }
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00075}00075       \textcolor{keywordtype}{float} fwdist2 = \mbox{\hyperlink{classsm__dance__bot__warehouse__2_1_1cl__lidar_1_1CpForwardObstacleDetector_a1f9c76c92017c8f71bc348ae22d3c871}{lastScanMessage\_}}.ranges[scanindex];}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00076}00076 }
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00077}00077       RCLCPP\_INFO\_STREAM(}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00078}00078         \mbox{\hyperlink{classsmacc2_1_1ISmaccComponent_a77ee85823bab8d84edcdf5d28782b728}{getLogger}}(), \textcolor{stringliteral}{"{}["{}} << \mbox{\hyperlink{classsmacc2_1_1ISmaccComponent_a6fea938740f0c9ffc082b2ff076c900b}{getName}}() << \textcolor{stringliteral}{"{}]"{}}}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00079}00079                          << \textcolor{stringliteral}{"{}range["{}} << scanindex << \textcolor{stringliteral}{"{}] = "{}} << fwdist2);}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00080}00080 }
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00081}00081       \textcolor{keywordflow}{if} (fwdist2 > 0.01 \&\& fwdist2 < fwdist)}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00082}00082       \{}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00083}00083         RCLCPP\_INFO\_STREAM(}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00084}00084           \mbox{\hyperlink{classsmacc2_1_1ISmaccComponent_a77ee85823bab8d84edcdf5d28782b728}{getLogger}}(), \textcolor{stringliteral}{"{}["{}} << \mbox{\hyperlink{classsmacc2_1_1ISmaccComponent_a6fea938740f0c9ffc082b2ff076c900b}{getName}}() << \textcolor{stringliteral}{"{}]"{}}}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00085}00085                            << \textcolor{stringliteral}{"{}updated range[0] = "{}} << fwdist2);}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00086}00086 }
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00087}00087         fwdist = fwdist2;}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00088}00088       \}}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00089}00089     \}}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00090}00090 }
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00091}00091     RCLCPP\_INFO\_STREAM(\mbox{\hyperlink{classsmacc2_1_1ISmaccComponent_a77ee85823bab8d84edcdf5d28782b728}{getLogger}}(), \textcolor{stringliteral}{"{}["{}} << \mbox{\hyperlink{classsmacc2_1_1ISmaccComponent_a6fea938740f0c9ffc082b2ff076c900b}{getName}}() << \textcolor{stringliteral}{"{}]"{}} << ss.str());}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00092}00092 }
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00093}00093     \textcolor{comment}{/*if the distance is infinity or nan, use max range distance*/}}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00094}00094     \textcolor{keywordflow}{if} (fwdist == std::numeric\_limits<float>::infinity() || fwdist != fwdist)}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00095}00095     \{}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00096}00096       fwdist = \mbox{\hyperlink{classsm__dance__bot__warehouse__2_1_1cl__lidar_1_1CpForwardObstacleDetector_a1f9c76c92017c8f71bc348ae22d3c871}{lastScanMessage\_}}.range\_max -\/ \mbox{\hyperlink{classsm__dance__bot__warehouse__2_1_1cl__lidar_1_1CpForwardObstacleDetector_ac3a0e0d33a91196a54a1b18195026ca6}{SECURITY\_DISTANCE}} \textcolor{comment}{/*meters*/};}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00097}00097       RCLCPP\_INFO\_THROTTLE(}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00098}00098         \mbox{\hyperlink{classsmacc2_1_1ISmaccComponent_a77ee85823bab8d84edcdf5d28782b728}{getLogger}}(), *(\mbox{\hyperlink{classsmacc2_1_1ISmaccComponent_aaac68614687bed658c59f8f15746ab91}{getNode}}()-\/>get\_clock()), 1000,}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00099}00099         \textcolor{stringliteral}{"{}[CpForwardObstacleDetector] Distance to forward obstacle is not a number, setting default value "{}}}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00100}00100         \textcolor{stringliteral}{"{}to: \%lf"{}},}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00101}00101         \mbox{\hyperlink{classsm__dance__bot__warehouse__2_1_1cl__lidar_1_1CpForwardObstacleDetector_a1f9c76c92017c8f71bc348ae22d3c871}{lastScanMessage\_}}.range\_max);}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00102}00102     \}}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00103}00103     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00104}00104     \{}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00105}00105       RCLCPP\_INFO\_STREAM(\mbox{\hyperlink{classsmacc2_1_1ISmaccComponent_a77ee85823bab8d84edcdf5d28782b728}{getLogger}}(), \textcolor{stringliteral}{"{}["{}} << \mbox{\hyperlink{classsmacc2_1_1ISmaccComponent_a6fea938740f0c9ffc082b2ff076c900b}{getName}}() << \textcolor{stringliteral}{"{}] fwdist: "{}} << fwdist);}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00106}00106       fwdist = std::max(fwdist -\/ \mbox{\hyperlink{classsm__dance__bot__warehouse__2_1_1cl__lidar_1_1CpForwardObstacleDetector_ac3a0e0d33a91196a54a1b18195026ca6}{SECURITY\_DISTANCE}}, 0.0F);}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00107}00107       RCLCPP\_INFO\_STREAM(\mbox{\hyperlink{classsmacc2_1_1ISmaccComponent_a77ee85823bab8d84edcdf5d28782b728}{getLogger}}(), \textcolor{stringliteral}{"{}["{}} << \mbox{\hyperlink{classsmacc2_1_1ISmaccComponent_a6fea938740f0c9ffc082b2ff076c900b}{getName}}() << \textcolor{stringliteral}{"{}] fwdist: "{}} << fwdist);}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00108}00108     \}}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00109}00109 }
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00110}00110     \textcolor{keywordflow}{return} fwdist;}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00111}00111   \}}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00112}00112 }
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00113}\mbox{\hyperlink{classsm__dance__bot__warehouse__2_1_1cl__lidar_1_1CpForwardObstacleDetector_a8fcaa384f30d3a45c91b72ba776581f6}{00113}}   \textcolor{keywordtype}{void} \mbox{\hyperlink{classsm__dance__bot__warehouse__2_1_1cl__lidar_1_1CpForwardObstacleDetector_a8fcaa384f30d3a45c91b72ba776581f6}{MessageCallbackStoreDistanceToWall}}(\textcolor{keyword}{const} sensor\_msgs::msg::LaserScan \& scanmsg)}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00114}00114   \{}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00115}00115     this-\/>lastScanMessage\_ = scanmsg;}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00116}00116   \}}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00117}00117 \};}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00118}00118 \}  \textcolor{comment}{// namespace cl\_lidar}}
\DoxyCodeLine{\Hypertarget{2_2include_2sm__dance__bot__warehouse__2_2clients_2cl__lidar_2components_2cp__forward__obstacle__detector_8hpp_source_l00119}00119 \}  \textcolor{comment}{// namespace sm\_dance\_bot\_warehouse\_2}}

\end{DoxyCode}
